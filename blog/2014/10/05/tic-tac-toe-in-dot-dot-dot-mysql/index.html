
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Tic-Tac-Toe in &#8230; MySQL - Hrvoje&#8217;s Blog</title>
  <meta name="author" content="Hrvoje">

  
  <meta name="description" content="If you ever attended a boring lecture, you probably know this game by heart. Frequently scribbled on textbook margins and school desks, it’s insanely &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="https://blog.hrvoje.org/blog/2014/10/05/tic-tac-toe-in-dot-dot-dot-mysql">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Hrvoje's Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      jax: ["input/TeX", "output/HTML-CSS"],
      tex2jax: {
        inlineMath: [ ['$', '$'], ["\\(", "\\)"] ],
        displayMath: [ ['$$', '$$'], ["\\[", "\\]"] ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
      //,
      //displayAlign: "left",
      //displayIndent: "2em"
    });
</script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-51253042-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Hrvoje&#8217;s Blog</a></h1>
  
    <h2>
    It&#8217;s only ones and zeroes.
    </h2>
  


</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.hrvoje.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Tic-Tac-Toe in &#8230; MySQL</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-10-05T17:25:44+02:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>5:25 pm</span></time>
        
      </p>
    
  </header>


<div class="entry-content"><p>If you ever attended a boring lecture, you probably know this game by heart. Frequently scribbled on textbook margins and school desks, it’s insanely popular and fun to play. Talking to a friend about MySQL made me wonder if such a respectable, high performance database can be misused and tricked into being a gaming platfom. While it isn’t likely going to run Quake, maybe a simple game of Tic-Tac-Toe would be just right.</p>

<p>Why would anyone do this? Well, making <a href="https://www.youtube.com/watch?v=qWkUFxItWmU">floppy drives play The Imperial March</a> isn’t very useful either, but it’s darn entertaining. MySQL is a powerful tool with strong scripting capabilities and Turing complete as well, so implementing this game in a single player mode is possible.</p>

<!--more-->

<h3 id="implementation">Implementation</h3>

<p>First, we need a board. To keep things simple, we’ll keep it as a 9 letter string - matrix element with position (1,1) will be the first element, then element (1,2) and so on .</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="mysql"><span class="line"><span class="kt">SET</span> <span class="o">@</span><span class="n">ploca</span> <span class="o">=</span> <span class="s1">&#39;_________&#39;</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>After defining something to store and describe the board in, we declare AI is using ‘o’ and the player will be playing with ‘x’. Underscores are used to represent unclaimed fields. Since MySQL isn’t Perl or Python, we’ll have to improvise a little and create a function to check what’s placed on the board at a specific (row,column) position.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="mysql"><span class="line"><span class="k">CREATE</span> <span class="n">FUNCTION</span> <span class="nf">get</span><span class="p">(</span><span class="n">instring</span> <span class="kt">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span> <span class="n">y</span> <span class="kt">INT</span><span class="p">,</span> <span class="n">x</span> <span class="kt">INT</span><span class="p">)</span> <span class="n">RETURNS</span> <span class="kt">CHAR</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="k">RETURN</span> <span class="nf">SUBSTRING</span><span class="p">(</span><span class="n">instring</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Now we need to think of a way to display the board to the player. There is no simple print function and we are trying to display a string as a table, so this is what I could think of.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class="mysql"><span class="line"><span class="n">DELIMITER</span> <span class="err">$$</span>
</span><span class="line"><span class="k">CREATE</span> <span class="k">PROCEDURE</span> <span class="nf">display_board</span><span class="p">(</span><span class="k">IN</span> <span class="n">l</span> <span class="kt">VARCHAR</span><span class="p">(</span><span class="mi">16</span><span class="p">))</span>
</span><span class="line"><span class="n">BEGIN</span>
</span><span class="line">      <span class="k">DROP</span> <span class="n">TEMPORARY</span> <span class="k">TABLE</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="ss">`tablica`</span><span class="p">;</span>
</span><span class="line">      <span class="k">CREATE</span> <span class="n">TEMPORARY</span> <span class="k">TABLE</span> <span class="ss">`tablica`</span> <span class="p">(</span><span class="n">ta</span> <span class="kt">varchar</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">bli</span> <span class="kt">varchar</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">ca</span> <span class="kt">varchar</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span>
</span><span class="line">      <span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tablica</span> <span class="k">VALUES</span> <span class="p">(</span><span class="nf">get</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="nf">get</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="nf">get</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">));</span>
</span><span class="line">      <span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tablica</span> <span class="k">VALUES</span> <span class="p">(</span><span class="nf">get</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="nf">get</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="nf">get</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">));</span>
</span><span class="line">      <span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tablica</span> <span class="k">VALUES</span> <span class="p">(</span><span class="nf">get</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="nf">get</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="nf">get</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">));</span>
</span><span class="line">      <span class="k">SELECT</span> <span class="o">*</span> <span class="k">from</span> <span class="n">tablica</span><span class="p">;</span>
</span><span class="line"><span class="n">END</span>
</span><span class="line"><span class="err">$$</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>We declare a temporary table, extract characters from our board-string and select it. This will print it (somewhat) nicely to the player.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class="mysql"><span class="line"><span class="o">+------+------+------+</span>
</span><span class="line"><span class="o">|</span> <span class="n">ta</span>   <span class="o">|</span> <span class="n">bli</span>  <span class="o">|</span> <span class="n">ca</span>   <span class="o">|</span>
</span><span class="line"><span class="o">+------+------+------+</span>
</span><span class="line"><span class="o">|</span> <span class="n">o</span>    <span class="o">|</span> <span class="n">_</span>    <span class="o">|</span> <span class="n">_</span>    <span class="o">|</span>
</span><span class="line"><span class="o">|</span> <span class="n">_</span>    <span class="o">|</span> <span class="n">x</span>    <span class="o">|</span> <span class="n">_</span>    <span class="o">|</span>
</span><span class="line"><span class="o">|</span> <span class="n">_</span>    <span class="o">|</span> <span class="n">_</span>    <span class="o">|</span> <span class="n">_</span>    <span class="o">|</span>
</span><span class="line"><span class="o">+------+------+------+</span>
</span><span class="line"><span class="mi">3</span> <span class="n">rows</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span> <span class="n">sec</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="ai---making-a-respectable-oponent">AI - making a respectable oponent</h3>

<p>This is a good time to talk about the AI. Taking the classic approach isn’t something you do when coding for fun, so I decided to do something different. When doing something weird in a database engine, why not use it in your advantage? Basic combinatorics tells us each field can be either ‘o’, ‘x’ or empty, and there are 9 fields so that’s 3<sup>9</sup> = 19,683 possible board positions. Also, many positions are invalid - you can’t have all x’s because players take turns, you can’t play after you’ve lost etc. so the real number of valid board is much smaller (it’s 5477).</p>

<p>Game theory teaches us Tic-Tac-Toe can never actually be won if you pick optimal moves, so we’ll run it once to generate a tree of best computer moves given a certain position, store it permanently in the database, and use it to defeat the puny human.</p>

<p><img class="center" src="/images/Tic-tac-toe-game-tree.svg" /></p>

<p>Each optimal move for a certain position will be stored as a table row along with its predecessor’s id, so we can look it up and know where to move.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="mysql"><span class="line"><span class="o">+-------+-----------+------------+------+------+--------+</span>
</span><span class="line"><span class="o">|</span> <span class="n">id</span>    <span class="o">|</span> <span class="n">matrix</span>    <span class="o">|</span> <span class="n">moves_next</span> <span class="o">|</span> <span class="n">kraj</span> <span class="o">|</span> <span class="n">win</span>  <span class="o">|</span> <span class="n">parent</span> <span class="o">|</span>
</span><span class="line"><span class="o">+-------+-----------+------------+------+------+--------+</span>
</span><span class="line"><span class="o">|</span> <span class="mi">32041</span> <span class="o">|</span> <span class="n">oxooxxo_x</span> <span class="o">|</span> <span class="n">x</span>          <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span> <span class="n">o</span>    <span class="o">|</span>  <span class="mi">32040</span> <span class="o">|</span>
</span><span class="line"><span class="o">+-------+-----------+------------+------+------+--------+</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>An example of a move stored in a database - this is a finished game which a computer (‘o’ player) won. Let’s implement a function for making a move.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
</pre></td><td class="code"><pre><code class="mysql"><span class="line"><span class="n">DELIMITER</span> <span class="err">$$</span>
</span><span class="line"><span class="k">CREATE</span> <span class="k">PROCEDURE</span> <span class="nf">place_x</span><span class="p">(</span><span class="k">IN</span> <span class="n">y</span> <span class="kt">INT</span><span class="p">,</span> <span class="k">IN</span> <span class="n">x</span> <span class="kt">INT</span><span class="p">)</span>
</span><span class="line"><span class="n">BEGIN</span>
</span><span class="line">      <span class="k">IF</span> <span class="nf">get</span><span class="p">(</span><span class="o">@</span><span class="n">ploca</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="s1">&#39;_&#39;</span> <span class="k">THEN</span>
</span><span class="line">    <span class="k">SELECT</span> <span class="nf">concat</span><span class="p">(</span><span class="nf">substring</span><span class="p">(</span><span class="o">@</span><span class="n">ploca</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="nf">substring</span><span class="p">(</span><span class="o">@</span><span class="n">ploca</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span> <span class="k">INTO</span> <span class="o">@</span><span class="n">ploca</span><span class="p">;</span>
</span><span class="line">    <span class="k">CALL</span> <span class="nf">display_board</span><span class="p">(</span><span class="o">@</span><span class="n">ploca</span><span class="p">);</span>
</span><span class="line">
</span><span class="line">        <span class="k">SELECT</span> <span class="n">id</span><span class="p">,</span><span class="n">kraj</span><span class="p">,</span><span class="n">win</span> <span class="k">FROM</span> <span class="n">tictactoe</span> <span class="k">WHERE</span> <span class="n">matrix</span><span class="o">=@</span><span class="n">ploca</span> <span class="k">AND</span> <span class="n">moves_next</span><span class="o">=</span><span class="s1">&#39;o&#39;</span> <span class="k">LIMIT</span> <span class="mi">1</span> <span class="k">INTO</span> <span class="o">@</span><span class="n">parent_id</span><span class="p">,</span> <span class="o">@</span><span class="n">kraj</span><span class="p">,</span> <span class="o">@</span><span class="n">win</span><span class="p">;</span>
</span><span class="line">        <span class="k">SELECT</span> <span class="n">matrix</span><span class="p">,</span><span class="n">kraj</span><span class="p">,</span><span class="n">win</span> <span class="k">FROM</span> <span class="n">tictactoe</span> <span class="k">WHERE</span> <span class="n">parent</span><span class="o">=@</span><span class="n">parent_id</span> <span class="k">LIMIT</span> <span class="mi">1</span> <span class="k">INTO</span> <span class="o">@</span><span class="n">ploca</span><span class="p">,</span> <span class="o">@</span><span class="n">kraj</span><span class="p">,</span> <span class="o">@</span><span class="n">win</span><span class="p">;</span>
</span><span class="line">
</span><span class="line">    <span class="k">CALL</span> <span class="nf">display_board</span><span class="p">(</span><span class="o">@</span><span class="n">ploca</span><span class="p">);</span>
</span><span class="line">
</span><span class="line">    <span class="k">IF</span> <span class="o">@</span><span class="n">kraj</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">THEN</span>
</span><span class="line">      <span class="k">IF</span> <span class="o">@</span><span class="n">win</span> <span class="o">=</span> <span class="s1">&#39;o&#39;</span> <span class="k">THEN</span> <span class="k">SELECT</span> <span class="s1">&#39;Izgubili ste!&#39;</span> <span class="k">AS</span> <span class="s1">&#39; &#39;</span><span class="p">;</span> <span class="k">ELSE</span>  <span class="k">SELECT</span> <span class="s1">&#39;Nerijeseno. Pokusajte ponovno!&#39;</span> <span class="k">AS</span> <span class="s1">&#39; &#39;</span><span class="p">;</span> <span class="n">END</span> <span class="k">IF</span><span class="p">;</span>
</span><span class="line">      <span class="kt">SET</span> <span class="o">@</span><span class="n">ploca</span> <span class="o">=</span> <span class="s1">&#39;_________&#39;</span><span class="p">;</span>
</span><span class="line">      <span class="k">CALL</span> <span class="nf">display_board</span><span class="p">(</span><span class="o">@</span><span class="n">ploca</span><span class="p">);</span>
</span><span class="line">    <span class="n">END</span> <span class="k">IF</span><span class="p">;</span>
</span><span class="line">      <span class="n">END</span> <span class="k">IF</span><span class="p">;</span>
</span><span class="line"><span class="n">END</span>
</span><span class="line"><span class="err">$$</span>
</span><span class="line"><span class="n">DELIMITER</span> <span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="constructing-the-optimal-move-tree">Constructing the optimal move tree</h3>

<p>If you ever saw Wargames, you probably remember the scene where the kid saves the world by making the computer play Tic-Tac-Toe with itself. The same thing is done here (minus saving the world part). Computer plays both sides, but when impersonating a human it checks all moves, not just the best one, because a human might make a mistake. To determine the best move, a recursive minimax algorithm is used, checking long-term consequence of a move (‘move’ function) and choosing the one with a best outcome.</p>

<p>This python algorithm is ran only once; it recursively traverses the moves tree and inserts nodes as database rows. Our database could also be imported from external file, effectively eliminating any external dependencies, even if they are only a one-time thing. A single database row also contains state flags to determine if the game is over or not.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
<span class="line-number">46</span>
<span class="line-number">47</span>
<span class="line-number">48</span>
<span class="line-number">49</span>
<span class="line-number">50</span>
<span class="line-number">51</span>
<span class="line-number">52</span>
<span class="line-number">53</span>
<span class="line-number">54</span>
<span class="line-number">55</span>
<span class="line-number">56</span>
<span class="line-number">57</span>
<span class="line-number">58</span>
<span class="line-number">59</span>
<span class="line-number">60</span>
<span class="line-number">61</span>
<span class="line-number">62</span>
<span class="line-number">63</span>
<span class="line-number">64</span>
<span class="line-number">65</span>
<span class="line-number">66</span>
</pre></td><td class="code"><pre><code class="python"><span class="line"><span class="c">#!/usr/bin/python</span>
</span><span class="line"><span class="kn">import</span> <span class="nn">itertools</span><span class="o">,</span> <span class="nn">hashlib</span><span class="o">,</span> <span class="nn">MySQLdb</span>
</span><span class="line">
</span><span class="line"><span class="n">ploca</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="s">&#39;_&#39;</span> <span class="o">*</span> <span class="mi">9</span><span class="p">)</span>
</span><span class="line"><span class="n">db</span><span class="o">=</span><span class="n">MySQLdb</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&#39;localhost&#39;</span><span class="p">,</span> <span class="s">&#39;game&#39;</span><span class="p">,</span> <span class="s">&#39;game&#39;</span><span class="p">,</span> <span class="s">&#39;game&#39;</span><span class="p">)</span>
</span><span class="line"><span class="n">c</span><span class="o">=</span><span class="n">db</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
</span><span class="line">
</span><span class="line"><span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="n">ploca</span><span class="p">,</span> <span class="n">player</span><span class="p">):</span>
</span><span class="line">    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">ploca</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span> <span class="k">return</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span>
</span><span class="line">    <span class="n">nextplayer</span> <span class="o">=</span> <span class="s">&#39;x&#39;</span> <span class="k">if</span> <span class="n">player</span> <span class="ow">is</span> <span class="s">&#39;o&#39;</span> <span class="k">else</span> <span class="s">&#39;o&#39;</span>
</span><span class="line">    <span class="k">if</span> <span class="n">pobjednik</span><span class="p">(</span><span class="n">ploca</span><span class="p">):</span>
</span><span class="line">        <span class="k">return</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="k">if</span> <span class="n">player</span> <span class="ow">is</span> <span class="s">&#39;x&#39;</span> <span class="k">else</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span><span class="line">
</span><span class="line">    <span class="n">reslist</span> <span class="o">=</span> <span class="p">[]</span>
</span><span class="line">    <span class="n">lista</span> <span class="o">=</span> <span class="p">[]</span>
</span><span class="line">
</span><span class="line">    <span class="k">if</span> <span class="n">provjeri_kraj</span><span class="p">(</span><span class="n">ploca</span><span class="p">):</span> <span class="k">return</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span>
</span><span class="line">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>
</span><span class="line">        <span class="k">if</span> <span class="n">ploca</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;_&#39;</span><span class="p">:</span> <span class="n">lista</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</span><span class="line">
</span><span class="line">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">lista</span><span class="p">:</span>
</span><span class="line">        <span class="n">ploca</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">player</span>
</span><span class="line">        <span class="n">ret</span><span class="p">,</span><span class="n">mov</span><span class="o">=</span><span class="n">move</span><span class="p">(</span><span class="n">ploca</span><span class="p">,</span> <span class="n">nextplayer</span><span class="p">)</span>
</span><span class="line">        <span class="n">reslist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span>
</span><span class="line">        <span class="n">ploca</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="s">&#39;_&#39;</span>
</span><span class="line">
</span><span class="line">    <span class="k">if</span> <span class="n">player</span> <span class="ow">is</span> <span class="s">&#39;x&#39;</span><span class="p">:</span> <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">reslist</span><span class="p">),</span><span class="n">lista</span><span class="p">[</span><span class="n">reslist</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">reslist</span><span class="p">))]</span>
</span><span class="line">    <span class="k">else</span><span class="p">:</span> <span class="k">return</span> <span class="nb">min</span><span class="p">(</span><span class="n">reslist</span><span class="p">),</span><span class="n">lista</span><span class="p">[</span><span class="n">reslist</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">reslist</span><span class="p">))]</span>
</span><span class="line">
</span><span class="line"><span class="k">def</span> <span class="nf">moguci_potezi</span><span class="p">(</span><span class="n">ploca</span><span class="p">):</span> <span class="k">return</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">),</span> <span class="n">ploca</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="s">&#39;_&#39;</span><span class="p">]</span>
</span><span class="line"><span class="k">def</span> <span class="nf">provjeri_kraj</span><span class="p">(</span><span class="n">ploca</span><span class="p">):</span> <span class="k">return</span> <span class="bp">True</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">moguci_potezi</span><span class="p">(</span><span class="n">ploca</span><span class="p">))</span> <span class="k">else</span> <span class="bp">False</span>
</span><span class="line"><span class="k">def</span> <span class="nf">igraceva_polja</span><span class="p">(</span><span class="n">igrac</span><span class="p">,</span> <span class="n">ploca</span><span class="p">):</span> <span class="k">return</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">),</span> <span class="n">ploca</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">igrac</span><span class="p">]</span>
</span><span class="line"><span class="k">def</span> <span class="nf">nerijeseno</span><span class="p">(</span><span class="n">ploca</span><span class="p">):</span>  <span class="k">return</span> <span class="bp">True</span> <span class="k">if</span> <span class="n">provjeri_kraj</span><span class="p">(</span><span class="n">ploca</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">pobjednik</span><span class="p">(</span><span class="n">ploca</span><span class="p">)</span> <span class="k">else</span> <span class="bp">False</span>
</span><span class="line">
</span><span class="line"><span class="k">def</span> <span class="nf">pobjednik</span><span class="p">(</span><span class="n">ploca</span><span class="p">):</span>
</span><span class="line">    <span class="n">dobitne_mogucnosti</span> <span class="o">=</span> <span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">])</span>
</span><span class="line">    <span class="k">for</span> <span class="n">strana</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;o&#39;</span><span class="p">):</span>
</span><span class="line">        <span class="k">if</span> <span class="p">[</span><span class="nb">len</span><span class="p">([</span><span class="n">ploca</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">j</span> <span class="k">if</span> <span class="n">ploca</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">is</span> <span class="n">strana</span><span class="p">])</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">dobitne_mogucnosti</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="k">return</span> <span class="n">strana</span>
</span><span class="line">    <span class="k">return</span> <span class="bp">False</span>
</span><span class="line">
</span><span class="line"><span class="k">def</span> <span class="nf">povuci_potez</span><span class="p">(</span><span class="n">ploca</span><span class="p">,</span> <span class="n">strana</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
</span><span class="line">    <span class="n">win</span> <span class="o">=</span> <span class="s">&#39;NULL&#39;</span>
</span><span class="line">    <span class="n">tbl</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ploca</span><span class="p">),</span> <span class="n">strana</span><span class="p">]</span>
</span><span class="line">
</span><span class="line">    <span class="n">kraj</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">nerijeseno</span><span class="p">(</span><span class="n">ploca</span><span class="p">)</span> <span class="ow">or</span> <span class="n">pobjednik</span><span class="p">(</span><span class="n">ploca</span><span class="p">)</span> <span class="k">else</span> <span class="mi">0</span>
</span><span class="line">    <span class="k">if</span> <span class="n">kraj</span><span class="p">:</span> <span class="n">win</span> <span class="o">=</span> <span class="n">pobjednik</span><span class="p">(</span><span class="n">ploca</span><span class="p">)</span> <span class="k">if</span> <span class="n">pobjednik</span><span class="p">(</span><span class="n">ploca</span><span class="p">)</span> <span class="k">else</span> <span class="s">&#39;Tie&#39;</span>
</span><span class="line">
</span><span class="line">    <span class="n">tbl</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">win</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">kraj</span><span class="p">)])</span>
</span><span class="line">    <span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s">&quot;INSERT INTO tictactoe (matrix, moves_next, win, kraj) VALUES (&#39;{}&#39;);&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&quot;&#39;, &#39;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tbl</span><span class="p">)))</span>
</span><span class="line">    <span class="n">lastrowid</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">lastrowid</span>
</span><span class="line">    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</span><span class="line">
</span><span class="line">    <span class="k">if</span> <span class="n">parent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="s">&#39;NULL&#39;</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s">&quot;UPDATE tictactoe SET parent=&#39;{0}&#39; WHERE id=&#39;{1}&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">lastrowid</span><span class="p">))</span>
</span><span class="line">    <span class="k">if</span> <span class="n">pobjednik</span><span class="p">(</span><span class="n">ploca</span><span class="p">)</span> <span class="ow">or</span> <span class="n">nerijeseno</span><span class="p">(</span><span class="n">ploca</span><span class="p">):</span> <span class="k">return</span>
</span><span class="line">
</span><span class="line">    <span class="n">slobodna_polja</span> <span class="o">=</span> <span class="n">moguci_potezi</span><span class="p">(</span><span class="n">ploca</span><span class="p">)</span>
</span><span class="line">    <span class="k">if</span> <span class="n">strana</span> <span class="o">==</span> <span class="s">&#39;x&#39;</span><span class="p">:</span>
</span><span class="line">        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">slobodna_polja</span><span class="p">:</span>
</span><span class="line">            <span class="n">ploca_recursive</span><span class="o">=</span><span class="n">ploca</span><span class="p">[:]</span>
</span><span class="line">            <span class="n">ploca_recursive</span><span class="p">[</span><span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="s">&#39;x&#39;</span>
</span><span class="line">            <span class="n">povuci_potez</span><span class="p">(</span><span class="n">ploca_recursive</span><span class="p">,</span> <span class="s">&#39;o&#39;</span><span class="p">,</span> <span class="n">lastrowid</span><span class="p">)</span>
</span><span class="line">    <span class="k">else</span><span class="p">:</span>
</span><span class="line">        <span class="n">ploca</span><span class="p">[</span><span class="n">move</span><span class="p">(</span><span class="n">ploca</span><span class="p">,</span> <span class="s">&#39;o&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="s">&#39;o&#39;</span>
</span><span class="line">        <span class="n">povuci_potez</span><span class="p">(</span><span class="n">ploca</span><span class="p">,</span> <span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="n">lastrowid</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="n">povuci_potez</span><span class="p">(</span><span class="n">ploca</span><span class="p">,</span> <span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;NULL&#39;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="making-it-fancy">Making it fancy</h3>

<p>That’s all nice, it works, but one more thing… can we make it 3D, just for fun? Mysql can execute shell commands, but apparently you can’t pipe anything through shell scripts. Let’s use a trick - very often it produces long, long tables, and to facilitate looking at the data you can set a <em>pager</em> - something it will pipe your output through, like <em>less</em> or your favorite editor. Why not using that and piping it through … figlet! One apt-get install figlet later, finding a cool looking 3d font and a little sed to strip everything not important and we’re left with this.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="mysql"><span class="line"><span class="n">mysql</span><span class="o">&gt;</span> <span class="n">pager</span> <span class="n">sed</span> <span class="o">-</span><span class="n">e</span> <span class="s1">&#39;s/| ta   | bli  | ca   |//g&#39;</span> <span class="o">-</span><span class="n">e</span> <span class="s1">&#39;s/  \+/ /g&#39;</span> <span class="o">-</span><span class="n">e</span> <span class="s1">&#39;s/[+\-]//g&#39;</span> <span class="o">-</span><span class="n">e</span> <span class="s1">&#39;/^$/d&#39;</span> <span class="o">|</span> <span class="n">figlet</span> <span class="o">-</span><span class="n">f</span> <span class="s1">&#39;larry3d.flf&#39;</span>
</span><span class="line"><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">call</span> <span class="nf">place_x</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
</pre></td><td class="code"><pre><code class=""><span class="line"> __                  __                  __                   __       
</span><span class="line">/\ \                /\ \                /\ \                 /\ \      
</span><span class="line">\ \ \        ___    \ \ \       __  _   \ \ \                \ \ \     
</span><span class="line"> \ \ \      / __`\   \ \ \     /\ \/'\   \ \ \                \ \ \    
</span><span class="line">  \ \ \    /\ \L\ \   \ \ \    \/&gt;  &lt;/    \ \ \                \ \ \   
</span><span class="line">   \ \ \   \ \____/    \ \ \    /\_/\_\    \ \ \                \ \ \  
</span><span class="line">    \ \ \   \/___/      \ \ \   \//\/_/     \ \ \      _______   \ \ \ 
</span><span class="line">     \ \_\               \ \_\               \ \_\    /\______\   \ \_\
</span><span class="line">      \/_/                \/_/                \/_/    \/______/    \/_/
</span><span class="line"> __                   __                  __                  __       
</span><span class="line">/\ \                 /\ \                /\ \                /\ \      
</span><span class="line">\ \ \                \ \ \        ___    \ \ \       __  _   \ \ \     
</span><span class="line"> \ \ \                \ \ \      / __`\   \ \ \     /\ \/'\   \ \ \    
</span><span class="line">  \ \ \                \ \ \    /\ \L\ \   \ \ \    \/&gt;  &lt;/    \ \ \   
</span><span class="line">   \ \ \                \ \ \   \ \____/    \ \ \    /\_/\_\    \ \ \  
</span><span class="line">    \ \ \      _______   \ \ \   \/___/      \ \ \   \//\/_/     \ \ \ 
</span><span class="line">     \ \_\    /\______\   \ \_\               \ \_\               \ \_\
</span><span class="line">      \/_/    \/______/    \/_/                \/_/                \/_/
</span><span class="line"> __                  __                  __                  __       
</span><span class="line">/\ \                /\ \                /\ \                /\ \      
</span><span class="line">\ \ \       __  _   \ \ \        ___    \ \ \       __  _   \ \ \     
</span><span class="line"> \ \ \     /\ \/'\   \ \ \      / __`\   \ \ \     /\ \/'\   \ \ \    
</span><span class="line">  \ \ \    \/&gt;  &lt;/    \ \ \    /\ \L\ \   \ \ \    \/&gt;  &lt;/    \ \ \   
</span><span class="line">   \ \ \    /\_/\_\    \ \ \   \ \____/    \ \ \    /\_/\_\    \ \ \  
</span><span class="line">    \ \ \   \//\/_/     \ \ \   \/___/      \ \ \   \//\/_/     \ \ \ 
</span><span class="line">     \ \_\               \ \_\               \ \_\               \ \_\
</span><span class="line">      \/_/                \/_/                \/_/                \/_/</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Check out the video (HTML5 - webm, ogg or mp4):</p>

<video width="928" height="688" preload="none" controls="" poster=""><source src="http://blog.hrvoje.org/video/tictac.webm" type="video/webm; codecs=vp8, vorbis" /><source src="http://blog.hrvoje.org/video/tictac.ogg" /><source src="http://blog.hrvoje.org/video/tictac.mp4" type="video/mp4; codecs=&quot;avc1.42E01E, mp4a.40.2&quot;" /></video>

<p>Awesome!</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Hrvoje</span></span>

      




<time class='entry-date' datetime='2014-10-05T17:25:44+02:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>5:25 pm</span></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/game/'>game</a>, <a class='category' href='/blog/categories/mysql/'>mysql</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="https://blog.hrvoje.org/blog/2014/10/05/tic-tac-toe-in-dot-dot-dot-mysql/" data-via="" data-counturl="https://blog.hrvoje.org/blog/2014/10/05/tic-tac-toe-in-dot-dot-dot-mysql/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2014/09/27/my-friends-ultra-short-2048/" title="Previous Post: My friend's 2048 version">&laquo; My friend&#8217;s 2048 version</a>
      
      
        <a class="basic-alignment right" href="/blog/2015/01/17/math-is-important-to-hackers/" title="Next Post: Cookie Math">Cookie Math &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>About Me</h1>
  <img src="https://secure.hrvoje.org/documents/hrvac-avatar3.png" style="border:none; box-shadow: none; margin-top: -10px;" /> 
  <p>
  I&#8217;m a geeky sysadmin and software developer who likes free software, electronics and math. 
  </p>
  <p>
  To email me, please use:
  </p>

    <img id='email-photo-placeholder' />
    
    <script type="text/javascript">
        var content = "YVZaQ1QxSjNNRXRIWjI5QlFVRkJUbE5WYUVWVlowRkJRVWs0UVVGQlFWWkRRVmxCUVVGQ0wyNXlNakpCUVVGQlFtMUtURkl3VVVFdmQwUXZRVkFyWjNaaFpWUkJRVUZCUTFoQ1NWZFlUVUZCUVhOVVFVRkJURVYzUlVGdGNIZFpRVUZCUVVJelVrcFVWVlZJTTJkdlNFWjNkMlZtUmxGM1psRkJRVUZDYkRCU1ZtZ3dVVEk1ZEdKWFZuVmtRVUpFWTIxV2FHUkhWbXRKU0dSd1pFZG5aMUl3YkU1VlJtVkNSR2hqUVVGQlVtOVRWVkpDVmtkcVpUZGFjR1JoUWpGV1JVMWtMMk40VDFaNFIyZGlZV3hRY1ZaNFIydFdRM2xHVlV0UFJYRk9SVWRwWnl0T2VHOHJibE53VDJsaFVGSkNVM0ZCWjFkQ0wzRm5LMmxFSzBsRlNXZHNRUzlwZGxaaWIySmFVVVpoYjBjNVZVZDNVbGN4Y21FeWJ6Qm9iMGt5WVZsdmJESnhVVzFIVmpodFkycHljMkp6Tm1FMFRESnNUemRFWTNNclppdGtLMlF2V25ZM1drMDNUelZ2Y1c5VlZuUm9MM05XU1ZKbmMwbExPRkpTVjJsTFpYZE5NV2M0U1dwS2FrVlNVMFJ4VVZGTVpXTTBSalV6UzNSMU1VeHFabFpaTDJWVlUydFhhMVIxUmxwR1VGSlhVa1ZTUlRaTGVVVkZVbVZWY0VWR2FHWlFiSEpPV1ZCTGIzRkhZMHBhUkVoM1JtUkJURkJCYzNWQ1pYVkJUMWxCZWxsTGVVdHlTek13WkRWVFdqSXlaMFZ2TUVFek1FRmhaVUZ1TkVReFNIVlFUM1UwU0VSb2FqaE5NMHBrZHpNdmRVSnVkek5VV2psbGJ6Z3ZjMmN3UVN0TlFUazRRbnBqUVRZMFJXWm5URFpCV0hWRFN6UmFhVzUzVEc1QlRTdEJUalJJTjJkdmFXRmpZbTUzWm5OQ1ZGbzNibWRHYlVwbVFXSmpURmhxZFVKaVdWbDNURGRJWkdkTFRFaERXVWh0UkZGNGMwNUJhbUowTTNKak1IWnFTV3htVVhKNGRrNW1OV3BzY0RsSVoyVnhNSFJqVkRaRFNHaFFlR1ZSZEZSVWVTOUJTekZCU0ZoQlZFMUJRM05VYTI1Rk4yVmFkMFpZUTBKbVVUUkROMUZHYldwU1IxbDJiV1Z5SzJaRWFUWlJWMWRIWlZwS05FUnFkM1ZhZGpkTlRHcHRWeXRDYlc5QllWbENlbmRRZGtKUmFHNW5NMEZFYUhaUVFqZGhXaXRJTmpGWlMydzVkSGhHTkRJelNHTmlNblZ6UVhrMFIxaG5aVEpQWTNoMU5FaEpOek4zTm5Oa1ZFY3JSemxwWlVrek5HZzVlRnBpWkRSMVNqaEZjbWRKSzBOU1JFOUdSU3RSYURWNEsxRjBWRlI2ZEdKeE5FUXJRM2hzVFZZNFEwaFJiR3QyZDJwUFpUUkZNVVIwVDJWSlNqVnNkMWhzT1hsMGVuaHFRMEprUTBGNFIybFBaSEpaU2xkT1dIZGlaVUZDWWxvNFZsbG5ibWxZUVUxalpYZ3dabXh6UVVsWlpGcHJWbmRtYUdaM2MySjJiVVVyUkU5SVVFWlVaQ3N3TVVSdU9IQXdTbU5TYkhsblprbGxLMWwyUzFkS1dqYzJZbkV2WkVKRVRWbHFVVWd3UTJaelVtaHJkVGR3ZUZOTlNsaERWSFJGVnpkS1psRTROR0ZzWjBaS2FVeEZUWGR5VFhNdlJYY3dRa0k0ZEhsblVWUjVNSGMxZG1sVmEyMU1iVTFQWlRaTVdFbEpkVU5TU1RsT1FUQktha29yTkdZeVNHZEJhemRLYjBWd09IcHRXa2xhTkc5SWVVaDJiVXg1Vmt0eGVpc3djR2sxZDBZMmVHVnhaMUpQVFdVeWNqWndTV1ExVDJodE5WSjRSVGRFVURoYWJVdFhUV1Z3V1VSNGRXUldiVzVVV0ZWRE56UlRXVzVHV1VoWVMyRnhNV0Z3WVhCaGIyeFdVbFpXY2xweFJDdFBabWxzUTJGbFJ6bDROWEYzT1dsWlJEaEJUbmxpWjBSM1ZHNHJORVJ5U0dGYWJFUjJWRmRDUkhsMWNXdGtWV1JSU3pST2RrczJaekZaVVVFcmQwRnVhRWRTUW1oR1drTkVlSFF6WkdkTE5FRllaM05VYm1jclUzSlJXbVZOZFRSTVYyTTRVWFowUnl0RE1tNVFOM29yYjJwTVZ6UTJReXRhWVUxbmJtNUJZME5JWlVZNGVqbEtjM0o2TjJKTkwySldkVXB1WWs5MWNEaGxNbXcxVlZkRVNUTlpkR3BaUTBoM1UxQTBWR1ZDUlRoQlVqWjVZVTlCY25WQk5YQnVORnBRYkhodFJWQkhPVlpDUXpkVVJsUXZUVXczZERGc016SlJWWE56U0dreVFWUnplazlQV0hsRlduVXpUbEJGT0ZsUE0yTXpkMkVyV2pSaVYwMWpVMjUwWlhKa1NuTnljR3h0T0VSTlJEVk1PRlJVWVZnclN6UkNaVTlvVTFCSVZWZE9aakJqUmxvM1J6aE5ibWd6WnpJeVpHOHpTbGg1V0VkaUswVmxUR1JoV25wU2NYSjZRakpCTWpKNmVWWkZSemM1VXpoVFltd3JhMmxGYVhwalFWZFdZakp4VkZBMldGZENjemxEUkhodVNHUm9TbUV6TTFoQk1IUldkR0ZOVXpOdlNVUktNVk14ZEd0TVpYbDJLMkowT1V3dk5raFRjbWxEZDFoclZtOVNkVkUxTkVWa2FGTjRkVW80ZDBkeGExaGpRbTFsT0dONlEzVjVNRGRsUTBwRGRXdHFiWEY0YlV0YVpGa3dkazlYTlRkRk9XMDRVREkyVHl0Q1VEWXdNalpWYkhGbE5IWnFkRXBvVGxSb1pUZGFaVk5SYldwamNHWnJiRmxYVUVkUU1HTkpTemhTVWpJMWRHY3ZVM2hpWTBaVldWb3dSakJCUVVGQlFWTlZWazlTU3pWRFdVbEpQUT09"; 
        for(var i=1;i<3;i++) content=atob(content);
        $('#email-photo-placeholder').attr('src', 'data:image/png;base64,'+content);
    </script>

</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/12/03/the-eagle-has-landed/">The Eagle Has Landed</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/07/15/ghost-detect/">Ghost Ship</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/17/math-is-important-to-hackers/">Cookie Math</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/10/05/tic-tac-toe-in-dot-dot-dot-mysql/">Tic-Tac-Toe in &#8230; MySQL</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/27/my-friends-ultra-short-2048/">My Friend&#8217;s 2048 Version</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2018 - Hrvoje -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
